<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로컬 스토리지</title>
    <script>
        window.onload = function () { 

            const bg_color = document.getElementById('bg_color');
            const text_color = document.getElementById('text_color');
            const text_size = document.getElementById('text_size');

            //초기값 설정
            load_setting();

            const myForm = document.getElementById('frm');
            myForm.onsubmit = function() {
                //기본 이벤트 제거
                event.preventDefault();

                //데이터 저장
                save_setting();
            };

            //로컬스토리지에 저장된 데이터 반환
            function load_setting() {
                bg_color.value = localStorage.getItem('bg_color');
                text_color.value = localStorage.getItem('text_color');
                text_size.value = localStorage.getItem('text_size');

                //스타일 반영
                apply_data();
            };

            //로컬 스토리지에 설정값 저장
            function save_setting() {
                localStorage.setItem('bg_color',bg_color.value);
                localStorage.setItem('text_color',text_color.value);
                localStorage.setItem('text_size',text_size.value);

                //스타일 반영
                apply_data();
            };

            //스타일을 태그에 반영
            function apply_data() {
                document.body.style.backgroundColor = bg_color.value;
                document.body.style.color = text_color.value;
                document.body.style.fontSize = text_size.value;

                
            };
            
        };
    </script>
</head>

<body>
    <h2>환경 설정 값 기억</h2>
    <form id="frm">
        <fieldset>
            <legend>색상/글자 크기 선택</legend>
            <ul>
                <li>
                    <label for="bg_color">배경색</label>
                    <input type="text" name="bg_color" id="bg_color">
                </li>
                <li>
                    <label for="text_color">글자색</label>
                    <input type="text" name="text_color" id="text_color">
                </li>
                <li>
                    <label for="text_size">글자 크기</label>
                    <select name="text_size" id="text_size">
                        <option value="16px">16px</option>
                        <option value="20px">20px</option>
                        <option value="24px">24px</option>
                    </select>
                </li>
                <input type="submit" value="저장">
            </ul>
        </fieldset>
    </form>
</body>

</html>